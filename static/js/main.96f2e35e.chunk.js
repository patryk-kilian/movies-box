(this["webpackJsonpmovie-box"]=this["webpackJsonpmovie-box"]||[]).push([[0],{29:function(e,t,n){e.exports=n(62)},34:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(25),a=n.n(r),c=(n(34),n(1)),s=n(7),l=Object(o.createContext)(),b=Object(o.createContext)(),u=n(8),d=n(11),p=n(6),f=function(e){var t=e.movie,n=Object(o.useContext)(l),r=n.addMovie,a=n.deleteMovie,c=n.toggleWatched,s=n.myMovies.find((function(e){return e.id===t.id})),b=d.a.button((function(e){return{position:"relative",height:"40px",width:"40px",border:"none",background:e.add?"\thsl(120, 100%, 73%)":"hsl(0, 100%, 70%)",color:e.add?"hsl(120, 100%, 20%)":"\thsl(0, 100%, 17%)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.4rem",cursor:"pointer",transition:"background .3s","& svg":{transition:"transform .3s"},"&:hover":{background:e.add?"hsl(120, 100%, 60%)":"hsl(0, 100%, 60%)",".plus-icon":{transform:"rotate(90deg)"}}}})),u=d.a.button((function(e){return{display:"block",textDecoration:"none",width:"100%",maxWidth:"150px",padding:"8px 5px",background:"hsl(280,35%,60%)",borderRadius:"5px",boxShadow:"0 1px 3px hsla(0,0%,0%,.2)",border:"none",color:"#fff",textTransform:"uppercase",fontSize:".8em",fontWeight:"700",textAlign:"center",marginRight:"5px",marginLeft:"20px",cursor:"pointer",transition:"background .3s",":hover":{background:"hsl(280,35%,40%)"}}}));return s?i.a.createElement(i.a.Fragment,null,i.a.createElement(b,{onClick:function(){return a(s)}},i.a.createElement(p.a,null)),s.watched?i.a.createElement(u,{onClick:function(){return c(s)}},"unwatch"):i.a.createElement(u,{onClick:function(){return c(s)}},"watch")):i.a.createElement(b,{add:"true",onClick:function(){return r(t)}},i.a.createElement(p.b,{className:"plus-icon"}))},h=n(10),m=function(e){var t=e.selected,n=e.onClick;return Object(c.b)("button",{onClick:n,css:{color:t?"hsl(52, 85%, 51%)":"hsl(220, 3%, 50%)",border:"none",background:"transparent",cursor:"pointer",":hover ~ button":{color:"hsl(220, 3%, 50%)"}}},Object(c.b)(p.d,{css:{height:"30px",width:"30px",transition:"color .3s"}}))},v=function(e){var t=e.totalStars,n=e.movie,i=e.className,r=Object(o.useContext)(l),a=r.myMovies,s=r.setRating,b=a.find((function(e){return e.id===n.id}));return b?Object(c.b)("div",{className:i,css:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:"auto"}},Object(c.b)("div",{css:{display:"flex",":hover button":{color:"hsl(52, 85%, 51%)"}}},Object(h.a)(Array(t)).map((function(e,t){return Object(c.b)(m,{key:t,selected:t<b.rating,onClick:function(){return s(t+1,n)}})}))),Object(c.b)("p",{css:{color:"hsl(213,61%,17%)",fontSize:"0.8rem"}},b.rating?"".concat(b.rating," of ").concat(t," stars"):"no rating")):null},g=function(e){var t=e.movie,n=t.title,o=t.poster_path,i=t.id,r=t.overview;return Object(c.b)("div",{css:{boxShadow:"0 2px 6px hsla(0, 0%, 0%,.2)",borderTop:"5px solid hsl(280, 35%, 60%)",marginTop:"20px",background:"#f3f2f3",marginLeft:"10px",marginRight:"10px",display:"grid",gridTemplateColumns:"1fr 3fr",padding:"20px"}},o?Object(c.b)("img",{css:{margin:"0 auto",boxShadow:"0 6px 12px hsla(0,0%,0%,.3)"},src:"http://image.tmdb.org/t/p/w154/".concat(o),alt:""}):Object(c.b)("h2",null,"No picture"),Object(c.b)("div",null,Object(c.b)("h2",{css:{fontSize:"1.4rem",marginBottom:"10px",fontWeight:"700",color:"hsl(280, 70%, 20%)"}},n),Object(c.b)("p",{css:{color:"hsl(213, 61%, 17%)"}},r),Object(c.b)("div",{css:{display:"flex",alignItems:"center",marginTop:"10px",height:"60px"}},Object(c.b)(u.a,{css:{position:"relative",color:"#4d2d5d",textTransform:"uppercase",fontWeight:"600",marginRight:"20px","&::before":{content:"''",position:"absolute",height:"2px",width:"0",bottom:"0",left:"0",background:"#4d2d5d",transition:"width .2s"},"&:hover":{"&::before":{width:"100%"}}},to:"/movie/".concat(i)},"Show Details"),Object(c.b)(f,{movie:e.movie}),Object(c.b)(v,{totalStars:6,movie:e.movie}))))},O=function(){var e=Object(o.useContext)(b),t=Object(o.useContext)(l),n=t.searchMovies,i=t.fetchedMovies,r=e.setAlert,a=Object(o.useState)(""),u=Object(s.a)(a,2),d=u[0],f=u[1];return Object(c.b)("div",null,Object(c.b)("form",{onSubmit:function(e){e.preventDefault(),d?(n(d),f("")):r("Please enter something")},css:{boxShadow:"0 1px 3px hsla(0,0%,0%,.2)",display:"flex",justifyContent:"center",maxWidth:"400px",margin:"0 auto",marginTop:"30px",borderRadius:"10px"}},Object(c.b)("input",{type:"search",onChange:function(e){return f(e.target.value)},value:d,name:"search",placeholder:"search movies",css:{border:"none",background:"#fff",padding:"10px",flexGrow:"2",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px",outline:"none"}}),Object(c.b)("button",{type:"submit",css:{border:"1px solid transparent",background:"hsl(280,35%,60%)",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",borderTopRightRadius:"10px",borderBottomRightRadius:"10px",maxWidth:"40px",width:"100%",outline:"none",cursor:"pointer",transition:"background .3s",": hover":{background:"hsl(280,35%,40%)"}}},Object(c.b)(p.c,null))),Object(c.b)("div",{css:{}},i&&i.map((function(e){return Object(c.b)(g,{key:e.id,movie:e})}))))},j=function(){var e=Object(o.useContext)(l).myMovies.filter((function(e){return e.watched}));return Object(c.b)("div",null,Object(c.b)("div",{css:{}},e&&e.map((function(e){return Object(c.b)(g,{key:e.id,movie:e})}))))},x=function(){var e=Object(o.useContext)(l).myMovies.filter((function(e){return!e.watched}));return Object(c.b)("div",null,Object(c.b)("div",{css:{}},e&&e.map((function(e){return Object(c.b)(g,{key:e.id,movie:e})}))))},y=function(e){var t=e.id,n=Object(o.useContext)(l),i=n.getMovieDetails,r=n.clearMovie,a=n.movie;return Object(o.useEffect)((function(){return i(t),function(){return r()}}),[t]),Object(c.b)(o.Fragment,null,a?Object(c.b)("div",{css:{display:"grid",gridTemplateColumns:"2fr 3fr",padding:"30px 0 0 40px"}},Object(c.b)("div",null,Object(c.b)("img",{src:"http://image.tmdb.org/t/p/w342/".concat(a.poster_path),alt:a.original_title})),Object(c.b)("div",{css:{paddingLeft:"40px"}},Object(c.b)("h1",{css:{color:"hsl(280, 70%, 20%)"}},a.original_title),Object(c.b)("ul",{css:{color:"hsl(213, 61%, 17%)",fontSize:"18px","& span":{fontWeight:"600"}}},Object(c.b)("li",null,"Generes:"," ",Object(c.b)("span",null,a.genres.map((function(e){return e.name})).join(", "))),Object(c.b)("li",null,"Release date: ",Object(c.b)("span",null,a.release_date)),Object(c.b)("li",null,"Runtime: ",Object(c.b)("span",null,a.runtime," min")),Object(c.b)("li",null,"Budget: ",Object(c.b)("span",null,a.budget))),Object(c.b)("p",{css:{marginTop:"10px",fontSize:"18px"}},a.overview)),Object(c.b)("div",{css:{display:"flex",alignItems:"center",height:"60px",gridColumn:"span 2",marginTop:"30px"}},Object(c.b)(f,{movie:a}),Object(c.b)(v,{css:{marginLeft:"40px"},totalStars:6,movie:a}))):Object(c.b)("h1",null,"Loading ..."))},E=function(){return Object(c.b)("div",{css:{marginLeft:"300px",width:"900px"}},Object(c.b)(u.b,{basename:"/movies-box"},Object(c.b)(O,{exact:!0,path:"/"}),Object(c.b)(j,{path:"/watched"}),Object(c.b)(x,{path:"/watchlist"}),Object(c.b)(y,{path:"/movie/:id"})))},w=Object(d.a)(u.a)({position:"relative",display:"block",color:"#fff",textDecoration:"none",textTransform:"uppercase",width:"100%",borderBottom:"1px solid rgba(0,0,0,0.3);",borderTop:"1px solid rgba(255,255,255,0.04)",padding:"10px 0","&::before":{content:"''",position:"absolute",height:"2px",width:0,bottom:"0",left:"0",background:"#fff",transition:"width .2s"},"&:hover":{"&::before":{width:"100%"}}}),M=function(){return Object(c.b)("div",{css:{background:"#4d2d5d",position:"fixed",width:"300px",height:"100vh"}},Object(c.b)("nav",{css:{textAlign:"center",fontSize:"1.25em",padding:"30px 0"}},Object(c.b)("ul",null,Object(c.b)("li",null,Object(c.b)(w,{to:"/"},"Search Movies")),Object(c.b)("li",null,Object(c.b)(w,{to:"/watchlist"},"Watchlist")),Object(c.b)("li",null,Object(c.b)(w,{to:"/watched"},"Watched")))))},T=n(3),k=n(12),C=n.n(k),R=n(14),S=n.n(R),_=function(e,t){switch(t.type){case"SEARCH_MOVIES":return Object(T.a)({},e,{fetchedMovies:t.payload});case"GET_DETAILS":case"CLEAR_MOVIE":return Object(T.a)({},e,{movie:t.payload});case"TOGGLE_WATCHED":case"ADD_MOVIE":case"DELETE_MOVIE":case"RATE_MOVIE":return Object(T.a)({},e,{myMovies:t.payload});default:return e}},A=function(e){var t=Object(o.useReducer)(_,{fetchedMovies:[],myMovies:[],movie:null}),n=Object(s.a)(t,2),r=n[0],a=n[1];return i.a.createElement(l.Provider,{value:{fetchedMovies:r.fetchedMovies,movie:r.movie,myMovies:r.myMovies,searchMovies:function(e){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.a.awrap(S.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("7d7380eb9336cb44565995c191538e01","&language=en-US&query=").concat(e,"&page=1")));case 3:t=n.sent,a({type:"SEARCH_MOVIES",payload:t.data.results}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])},getMovieDetails:function(e){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.a.awrap(S.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("7d7380eb9336cb44565995c191538e01")));case 2:t=n.sent,a({type:"GET_DETAILS",payload:t.data});case 4:case"end":return n.stop()}}))},clearMovie:function(){a({type:"CLEAR_MOVIE",payload:null})},toggleWatched:function(e){var t=r.myMovies.map((function(t){return e.id===t.id?Object(T.a)({},t,{watched:!t.watched}):t}));a({type:"TOGGLE_WATCHED",payload:t})},addMovie:function(e){a({type:"ADD_MOVIE",payload:[].concat(Object(h.a)(r.myMovies),[Object(T.a)({},e,{watched:!1,rating:null})])})},deleteMovie:function(e){var t=function(e,t){return e.filter((function(e){return e.id!==t.id}))}(r.myMovies,e);a({type:"DELETE_MOVIE",payload:Object(h.a)(t)})},setRating:function(e,t){var n=r.myMovies.map((function(n){return t.id===n.id?Object(T.a)({},n,{rating:e}):n}));a({type:"RATE_MOVIE",payload:n})}}},e.children)},L=function(e,t){switch(t.type){case"SET_ALERT":return t.payload;case"REMOVE_ALERT":return null;default:return e}},I=function(e){var t=Object(o.useReducer)(L,null),n=Object(s.a)(t,2),r=n[0],a=n[1];return i.a.createElement(b.Provider,{value:{alert:r,setAlert:function(e){a({type:"SET_ALERT",payload:e}),setTimeout((function(){a({type:"REMOVE_ALERT"})}),5e3)}}},e.children)},D=function(){return Object(c.b)(A,null,Object(c.b)(I,null,Object(c.b)("div",{css:{maxWidth:"1200px",margin:"0 auto"}},Object(c.b)("div",{css:{display:"grid",gridTemplateColumns:"1fr 3fr",height:"100vh"}},Object(c.b)(M,null),Object(c.b)(E,null)))))};a.a.render(i.a.createElement(D,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.96f2e35e.chunk.js.map