(this["webpackJsonpmovie-box"]=this["webpackJsonpmovie-box"]||[]).push([[0],{29:function(e,t,n){e.exports=n(62)},34:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(25),i=n.n(a),c=(n(34),n(1)),s=n(7),l=Object(o.createContext)(),u=Object(o.createContext)(),d=n(8),b=n(11),p=n(6),h=function(e){var t=e.movie,n=Object(o.useContext)(l),a=n.addMovie,i=n.deleteMovie,c=n.toggleWatched,s=n.myMovies.find((function(e){return e.id===t.id})),u=b.a.button((function(e){return{position:"relative",height:"40px",width:"40px",border:"none",marginLeft:"20px",background:e.add?"\thsl(120, 100%, 73%)":"hsl(0, 100%, 70%)",color:e.add?"hsl(120, 100%, 20%)":"\thsl(0, 100%, 17%)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.4rem",cursor:"pointer",transition:"background .3s","& svg":{transition:"transform .3s"},"&:hover":{background:e.add?"hsl(120, 100%, 60%)":"hsl(0, 100%, 60%)",".plus-icon":{transform:"rotate(90deg)"}}}})),d=b.a.button((function(e){return{display:"block",textDecoration:"none",width:"100%",maxWidth:"150px",marginLeft:"20px",padding:"8px 5px",background:"hsl(280,35%,60%)",borderRadius:"5px",boxShadow:"0 1px 3px hsla(0,0%,0%,.2)",border:"none",color:"#fff",textTransform:"uppercase",fontSize:".8em",fontWeight:"700",textAlign:"center",marginRight:"5px",cursor:"pointer",transition:"background .3s",":hover":{background:"hsl(280,35%,40%)"}}}));return s?r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{onClick:function(){return i(s)}},r.a.createElement(p.a,null)),s.watched?r.a.createElement(d,{onClick:function(){return c(s)}},"unwatch"):r.a.createElement(d,{onClick:function(){return c(s)}},"watch")):r.a.createElement(u,{add:"true",onClick:function(){return a(t)}},r.a.createElement(p.b,{className:"plus-icon"}))},f=n(10),m=function(e){var t=e.selected,n=e.onClick;return Object(c.b)("button",{onClick:n,css:{color:t?"hsl(52, 85%, 51%)":"hsl(220, 3%, 50%)",border:"none",background:"transparent",cursor:"pointer",":hover ~ button":{color:"hsl(220, 3%, 50%)"}}},Object(c.b)(p.d,{css:{height:"30px",width:"30px",transition:"color .3s"}}))},v=function(e){var t=e.totalStars,n=e.movie,r=Object(o.useContext)(l),a=r.myMovies,i=r.setRating,s=a.find((function(e){return e.id===n.id}));return s?Object(c.b)("div",{css:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:"auto"}},Object(c.b)("div",{css:{display:"flex",":hover button":{color:"hsl(52, 85%, 51%)"}}},Object(f.a)(Array(t)).map((function(e,t){return Object(c.b)(m,{key:t,selected:t<s.rating,onClick:function(){return i(t+1,n)}})}))),Object(c.b)("p",{css:{color:"hsl(213,61%,17%)",fontSize:"0.8rem"}},s.rating?"".concat(s.rating," of ").concat(t," stars"):"no rating")):null},g=function(e){var t=e.movie,n=t.title,o=t.poster_path,r=t.id,a=t.overview;return Object(c.b)("div",{css:{boxShadow:"0 2px 6px hsla(0, 0%, 0%,.2)",borderTop:"5px solid hsl(280, 35%, 60%)",marginTop:"20px",background:"#f3f2f3",marginLeft:"10px",marginRight:"10px",display:"grid",gridTemplateColumns:"1fr 3fr",padding:"20px"}},o?Object(c.b)("img",{css:{margin:"0 auto",boxShadow:"0 6px 12px hsla(0,0%,0%,.3)"},src:"http://image.tmdb.org/t/p/w154/".concat(o),alt:""}):Object(c.b)("h2",null,"no poster biatch"),Object(c.b)("div",null,Object(c.b)("h2",{css:{fontSize:"1.4rem",marginBottom:"10px",fontWeight:"700",color:"hsl(280, 70%, 20%)"}},n),Object(c.b)("p",{css:{color:"hsl(213, 61%, 17%)"}},a),Object(c.b)("div",{css:{display:"flex",alignItems:"center",marginTop:"10px",height:"60px"}},Object(c.b)(d.a,{css:{position:"relative",color:"#4d2d5d",textTransform:"uppercase",fontWeight:"600","&::before":{content:"''",position:"absolute",height:"2px",width:"0",bottom:"0",left:"0",background:"#4d2d5d",transition:"width .2s"},"&:hover":{"&::before":{width:"100%"}}},to:"/movie/".concat(r)},"Show Details"),Object(c.b)(h,{movie:e.movie}),Object(c.b)(v,{totalStars:6,movie:e.movie}))))},x=function(){var e=Object(o.useContext)(u),t=Object(o.useContext)(l),n=t.searchMovies,r=t.fetchedMovies,a=e.setAlert,i=Object(o.useState)(""),d=Object(s.a)(i,2),b=d[0],h=d[1];return Object(c.b)("div",null,Object(c.b)("form",{onSubmit:function(e){e.preventDefault(),b?(n(b),h("")):a("Please enter something")},css:{boxShadow:"0 1px 3px hsla(0,0%,0%,.2)",display:"flex",justifyContent:"center",maxWidth:"400px",margin:"0 auto",marginTop:"30px",borderRadius:"10px"}},Object(c.b)("input",{type:"search",onChange:function(e){return h(e.target.value)},value:b,name:"search",placeholder:"search movies",css:{border:"none",background:"#fff",padding:"10px",flexGrow:"2",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px",outline:"none"}}),Object(c.b)("button",{type:"submit",css:{border:"1px solid transparent",background:"hsl(280,35%,60%)",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",borderTopRightRadius:"10px",borderBottomRightRadius:"10px",maxWidth:"40px",width:"100%",outline:"none",cursor:"pointer",transition:"background .3s",": hover":{background:"hsl(280,35%,40%)"}}},Object(c.b)(p.c,null))),Object(c.b)("div",{css:{}},r&&r.map((function(e){return Object(c.b)(g,{key:e.id,movie:e})}))))},O=function(){var e=Object(o.useContext)(l).myMovies.filter((function(e){return e.watched}));return Object(c.b)("div",null,Object(c.b)("div",{css:{}},e&&e.map((function(e){return Object(c.b)(g,{key:e.id,movie:e})}))))},j=function(){var e=Object(o.useContext)(l).myMovies.filter((function(e){return!e.watched}));return Object(c.b)("div",null,Object(c.b)("div",{css:{}},e&&e.map((function(e){return Object(c.b)(g,{key:e.id,movie:e})}))))},y=function(e){var t=e.id,n=Object(o.useContext)(l),a=n.getMovieDetails,i=n.movie;return Object(o.useEffect)((function(){a(t)}),[t]),r.a.createElement("div",null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"$",i.original_title),r.a.createElement(h,{movie:i})," "):r.a.createElement("h1",null,"ni ma"))},E=function(){return Object(c.b)("div",{css:{marginLeft:"300px",width:"900px"}},Object(c.b)(d.b,null,Object(c.b)(x,{path:"/"}),Object(c.b)(O,{path:"/watched"}),Object(c.b)(j,{path:"/watchlist"}),Object(c.b)(y,{path:"/movie/:id"})))},w=Object(b.a)(d.a)({position:"relative",display:"block",color:"#fff",textDecoration:"none",textTransform:"uppercase",width:"100%",borderBottom:"1px solid rgba(0,0,0,0.3);",borderTop:"1px solid rgba(255,255,255,0.04)",padding:"10px 0","&::before":{content:"''",position:"absolute",height:"2px",width:0,bottom:"0",left:"0",background:"#fff",transition:"width .2s"},"&:hover":{"&::before":{width:"100%"}}}),M=function(){return Object(c.b)("div",{css:{background:"#4d2d5d",position:"fixed",width:"300px",height:"100vh"}},Object(c.b)("nav",{css:{textAlign:"center",fontSize:"1.25em",padding:"30px 0"}},Object(c.b)("ul",null,Object(c.b)("li",null,Object(c.b)(w,{to:"/"},"Search Movies")),Object(c.b)("li",null,Object(c.b)(w,{to:"/watchlist"},"Watchlist")),Object(c.b)("li",null,Object(c.b)(w,{to:"/watched"},"Watched")))))},k=n(3),T=n(12),C=n.n(T),R=n(14),S=n.n(R),_=function(e,t){switch(t.type){case"SEARCH_MOVIES":return Object(k.a)({},e,{fetchedMovies:t.payload});case"GET_DETAILS":return Object(k.a)({},e,{movie:t.payload});case"TOGGLE_WATCHED":case"ADD_MOVIE":case"DELETE_MOVIE":case"RATE_MOVIE":return Object(k.a)({},e,{myMovies:t.payload});default:return e}},A=function(e){var t=Object(o.useReducer)(_,{fetchedMovies:[],myMovies:[],movie:null}),n=Object(s.a)(t,2),a=n[0],i=n[1];return r.a.createElement(l.Provider,{value:{fetchedMovies:a.fetchedMovies,movie:a.movie,myMovies:a.myMovies,searchMovies:function(e){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.a.awrap(S.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("7d7380eb9336cb44565995c191538e01","&language=en-US&query=").concat(e,"&page=1")));case 3:t=n.sent,i({type:"SEARCH_MOVIES",payload:t.data.results}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])},getMovieDetails:function(e){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.a.awrap(S.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("7d7380eb9336cb44565995c191538e01")));case 2:t=n.sent,i({type:"GET_DETAILS",payload:t.data});case 4:case"end":return n.stop()}}))},toggleWatched:function(e){var t=a.myMovies.map((function(t){return e.id===t.id?Object(k.a)({},t,{watched:!t.watched}):t}));i({type:"TOGGLE_WATCHED",payload:t})},addMovie:function(e){i({type:"ADD_MOVIE",payload:[].concat(Object(f.a)(a.myMovies),[Object(k.a)({},e,{watched:!1,rating:null})])})},deleteMovie:function(e){var t=function(e,t){return e.filter((function(e){return e.id!==t.id}))}(a.myMovies,e);i({type:"DELETE_MOVIE",payload:Object(f.a)(t)})},setRating:function(e,t){var n=a.myMovies.map((function(n){return t.id===n.id?Object(k.a)({},n,{rating:e}):n}));i({type:"RATE_MOVIE",payload:n})}}},e.children)},D=function(e,t){switch(t.type){case"SET_ALERT":return t.payload;case"REMOVE_ALERT":return null;default:return e}},L=function(e){var t=Object(o.useReducer)(D,null),n=Object(s.a)(t,2),a=n[0],i=n[1];return r.a.createElement(u.Provider,{value:{alert:a,setAlert:function(e){i({type:"SET_ALERT",payload:e}),setTimeout((function(){i({type:"REMOVE_ALERT"})}),5e3)}}},e.children)},I=function(){return Object(c.b)(A,null,Object(c.b)(L,null,Object(c.b)("div",{css:{maxWidth:"1200px",margin:"0 auto"}},Object(c.b)("div",{css:{display:"grid",gridTemplateColumns:"1fr 3fr",height:"100vh"}},Object(c.b)(M,null),Object(c.b)(E,null)))))};i.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.aab5ac50.chunk.js.map